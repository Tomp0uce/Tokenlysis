<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="api-url" content="/api">
  <title>Tokenlysis – Indice Fear &amp; Greed</title>
  <link rel="stylesheet" href="./theme.css">
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
  <main class="dashboard">
    <header class="dashboard-header">
      <div class="brand">
        <a href="./index.html" class="breadcrumb-link">← Retour au tableau de bord</a>
        <h1>Indice Crypto Fear &amp; Greed</h1>
        <p>Visualisez l'évolution du sentiment du marché et son historique détaillé.</p>
      </div>
      <button type="button" class="theme-toggle" data-theme-toggle aria-label="Activer le thème sombre">Thème</button>
    </header>
    <section class="sentiment-layout">
      <article class="sentiment-panel">
        <div class="sentiment-card-header">
          <span>Sentiment actuel</span>
          <strong id="fear-greed-value">—</strong>
        </div>
        <div id="fear-greed-error" class="sentiment-error" hidden>Fear &amp; Greed indisponible</div>
        <div class="sentiment-visual">
          <div id="fear-greed-gauge" class="sentiment-gauge" aria-hidden="true"></div>
          <ul class="sentiment-legend">
            <li class="sentiment-legend-item" data-band="extreme-fear">
              <span class="legend-swatch" aria-hidden="true"></span>
              <div class="legend-text">
                <span class="legend-range">0 – 25</span>
                <span class="legend-label">Extreme Fear</span>
              </div>
            </li>
            <li class="sentiment-legend-item" data-band="fear">
              <span class="legend-swatch" aria-hidden="true"></span>
              <div class="legend-text">
                <span class="legend-range">26 – 44</span>
                <span class="legend-label">Fear</span>
              </div>
            </li>
            <li class="sentiment-legend-item" data-band="neutral">
              <span class="legend-swatch" aria-hidden="true"></span>
              <div class="legend-text">
                <span class="legend-range">45 – 54</span>
                <span class="legend-label">Neutral</span>
              </div>
            </li>
            <li class="sentiment-legend-item" data-band="greed">
              <span class="legend-swatch" aria-hidden="true"></span>
              <div class="legend-text">
                <span class="legend-range">55 – 74</span>
                <span class="legend-label">Greed</span>
              </div>
            </li>
            <li class="sentiment-legend-item" data-band="extreme-greed">
              <span class="legend-swatch" aria-hidden="true"></span>
              <div class="legend-text">
                <span class="legend-range">75 – 100</span>
                <span class="legend-label">Extreme Greed</span>
              </div>
            </li>
          </ul>
        </div>
        <dl class="sentiment-snapshots" id="fear-greed-snapshots">
          <div class="sentiment-snapshot" data-period="today">
            <dt class="sentiment-snapshot-label">Aujourd'hui</dt>
            <dd class="sentiment-snapshot-value" data-role="value">—</dd>
          </div>
          <div class="sentiment-snapshot" data-period="yesterday">
            <dt class="sentiment-snapshot-label">Hier</dt>
            <dd class="sentiment-snapshot-value" data-role="value">—</dd>
          </div>
          <div class="sentiment-snapshot" data-period="week">
            <dt class="sentiment-snapshot-label">Semaine dernière</dt>
            <dd class="sentiment-snapshot-value" data-role="value">—</dd>
          </div>
          <div class="sentiment-snapshot" data-period="month">
            <dt class="sentiment-snapshot-label">Mois dernier</dt>
            <dd class="sentiment-snapshot-value" data-role="value">—</dd>
          </div>
        </dl>
        <p id="fear-greed-classification" class="sentiment-classification">—</p>
      </article>
      <article class="panel">
        <div class="panel-header">
          <div>
            <h2>Historique du sentiment</h2>
            <p>Suivez la variation de l'indice sur différentes périodes.</p>
          </div>
          <div class="range-selector" id="fear-greed-range" role="radiogroup" aria-label="Période de l'historique">
            <button type="button" data-range="1m" aria-pressed="false">1 mois</button>
            <button type="button" data-range="3m" aria-pressed="false">3 mois</button>
            <button type="button" data-range="6m" aria-pressed="false">6 mois</button>
            <button type="button" data-range="1y" aria-pressed="false">1 an</button>
            <button type="button" data-range="ytd" aria-pressed="false">YTD</button>
            <button type="button" data-range="max" aria-pressed="false">Totalité</button>
          </div>
        </div>
        <p id="history-error" class="history-empty" hidden>Historique indisponible pour la période sélectionnée.</p>
        <div id="fear-greed-history" class="chart-target"></div>
      </article>
    </section>
  </main>
  <script type="module" src="./fear-greed.js"></script>
</body>
</html>
